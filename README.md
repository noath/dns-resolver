# О проекте
Реализован рекурсивный DNS резолвер, который самостоятельно обходит авторитативные DNS сервера, начиная с корневых. Кэширование осуществляется в соответствии с полем TTL. Количество кэшируемых записей является параметром.

Взаимодействие с резолвером реализовано через API (Flask), которое поддерживает следующие методы:

- `/get-records?domain=&trace=` (при пропуске `trace` поведение аналогично `trace=false`) - реализует описанную выше логику. Если выставлен флаг `trace=true`, то, игнорируя закэшированные данные,резолвер пройти всю цепочку DNS серверов, возвращая не только A и АААА записи, но и список авторитативных серверов.
- `/update-cache` - актуализирует кэш в соответствии со временем вызова метода (по умолчанию кэш ленивый и обновляется только при запросах добавления/обращения элемента).

Разбор сообщений и общая спецификация реализованы с опорой на [переведённую документацию RFC 1035](https://efim360.ru/rfc-1035-domennye-imena-realizatsiya-i-spetsifikatsiya/#4-1-3-Resource-record-format). 

Поля `DNSSEC` в рамках текущей реализации не проверяются (т.е. по умолчанию мы доверяем выдаче).

# Запуск
## Linux/MacOS
```
git clone https://github.com/noath/dns-resolver.git
python3 -m dns_resolver
```
## Windows
```
git clone https://github.com/noath/dns-resolver.git
python -m dns_resolver
```

Далее переходим на http://127.0.0.1:5000/

Также при запуске можно указать параметр, соответствующий максимальному кол-ву кэшируемых записей (по умолчанию, без ограничения).
## Linux/MacOS
```
git clone https://github.com/noath/dns-resolver.git
python3 -m dns_resolver 10
```
## Windows
```
git clone https://github.com/noath/dns-resolver.git
python -m dns_resolver 10
```
